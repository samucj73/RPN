<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Calculadora de BF Corporal</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      height: 100vh;
      background: #f4f6f9;
    }

    /* ===== MENU LATERAL ===== */
    .sidebar {
      width: 250px;
      background: #2c3e50;
      color: #ecf0f1;
      display: flex;
      flex-direction: column;
      padding: 20px;
    }

    .sidebar h2 {
      text-align: center;
      margin-bottom: 30px;
      font-size: 22px;
    }

    .menu a {
      padding: 12px 15px;
      margin: 5px 0;
      background: #34495e;
      color: #ecf0f1;
      text-decoration: none;
      border-radius: 6px;
      display: block;
      transition: 0.3s;
    }

    .menu a:hover, .menu a.active {
      background: #1abc9c;
    }

    /* ===== √ÅREA DE CONTE√öDO ===== */
    .content {
      flex: 1;
      padding: 40px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }

    .card {
      background: white;
      padding: 30px;
      border-radius: 10px;
      width: 100%;
      max-width: 500px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    h3 {
      text-align: center;
      margin-bottom: 20px;
    }

    label {
      font-weight: bold;
      display: block;
      margin: 12px 0 6px;
    }

    input {
      width: 100%;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 6px;
      background: #1abc9c;
      color: white;
      font-size: 16px;
      cursor: pointer;
    }

    button:hover {
      background: #16a085;
    }

    .resultado {
      margin-top: 20px;
      text-align: center;
      padding: 15px;
      border-radius: 6px;
      background: #ecf0f1;
    }
  </style>
</head>
<body>

  <!-- MENU LATERAL -->
  <div class="sidebar">
    <h2>BF Corporal</h2>
    <div class="menu">
      <a href="#" onclick="mostrarFormulario('navy')" class="active">üìè F√≥rmula US Navy</a>
      <a href="#" onclick="mostrarFormulario('adipometro')">üìê Adip√¥metro</a>
      <a href="#" onclick="mostrarFormulario('bio')">‚ö° Bioimped√¢ncia</a>
    </div>
  </div>

  <!-- √ÅREA DE CONTE√öDO -->
  <div class="content">
    <div class="card" id="formulario">
      <h3>Escolha um c√°lculo no menu</h3>
    </div>
  </div>

  <!-- PDF LIB -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <script>
    let formAtual = "";

    function mostrarFormulario(tipo) {
      const form = document.getElementById("formulario");
      document.querySelectorAll(".menu a").forEach(a => a.classList.remove("active"));
      event.target.classList.add("active");
      formAtual = tipo;

      if (tipo === "navy") {
        form.innerHTML = `
          <h3>F√≥rmula US Navy</h3>
          <label>Altura (cm)</label><input id="altura" type="number">
          <label>Cintura (cm)</label><input id="cintura" type="number">
          <label>Pesco√ßo (cm)</label><input id="pescoco" type="number">
          <label>Quadril (cm) (somente mulheres)</label><input id="quadril" type="number">
          <button onclick="calcularNavy()">Calcular</button>
          <div class="resultado" id="resultado"></div>
          <button onclick="exportarPDF()">Exportar PDF</button>
        `;
      }

      if (tipo === "adipometro") {
        form.innerHTML = `
          <h3>Adip√¥metro (3 pontos)</h3>
          <label>Prega 1 (mm)</label><input id="p1" type="number">
          <label>Prega 2 (mm)</label><input id="p2" type="number">
          <label>Prega 3 (mm)</label><input id="p3" type="number">
          <button onclick="calcularAdipometro()">Calcular</button>
          <div class="resultado" id="resultado"></div>
          <button onclick="exportarPDF()">Exportar PDF</button>
        `;
      }

      if (tipo === "bio") {
        form.innerHTML = `
          <h3>Bioimped√¢ncia</h3>
          <p>Insira o valor informado pelo aparelho:</p>
          <label>% de Gordura</label><input id="bio" type="number">
          <button onclick="calcularBio()">Registrar</button>
          <div class="resultado" id="resultado"></div>
          <button onclick="exportarPDF()">Exportar PDF</button>
        `;
      }
    }

    function calcularNavy() {
      let altura = parseFloat(document.getElementById("altura").value);
      let cintura = parseFloat(document.getElementById("cintura").value);
      let pescoco = parseFloat(document.getElementById("pescoco").value);
      let quadril = parseFloat(document.getElementById("quadril").value);

      let bf = 0;
      if (quadril > 0) { // Mulher
        bf = 163.205 * Math.log10(cintura + quadril - pescoco) -
             97.684 * Math.log10(altura) - 78.387;
      } else { // Homem
        bf = 86.010 * Math.log10(cintura - pescoco) -
             70.041 * Math.log10(altura) + 36.76;
      }

      document.getElementById("resultado").innerText = `Seu BF estimado √©: ${bf.toFixed(1)}%`;
    }

    function calcularAdipometro() {
      let p1 = parseFloat(document.getElementById("p1").value);
      let p2 = parseFloat(document.getElementById("p2").value);
      let p3 = parseFloat(document.getElementById("p3").value);

      let soma = p1 + p2 + p3;
      let densidade = 1.097 - (0.0004 * soma); // f√≥rmula simplificada
      let bf = (495 / densidade) - 450;

      document.getElementById("resultado").innerText = `Seu BF estimado √©: ${bf.toFixed(1)}%`;
    }

    function calcularBio() {
      let bio = parseFloat(document.getElementById("bio").value);
      document.getElementById("resultado").innerText = `Valor informado: ${bio.toFixed(1)}%`;
    }

    function exportarPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      const resultado = document.getElementById("resultado").innerText;

      doc.setFontSize(18);
      doc.text("Cart√£o de Resultado - BF Corporal", 20, 30);
      doc.setFontSize(14);
      doc.text(`M√©todo: ${formAtual.toUpperCase()}`, 20, 50);
      doc.text(`Resultado: ${resultado}`, 20, 70);

      doc.save("resultado_bf.pdf");
    }
  </script>

</body>
</html>
